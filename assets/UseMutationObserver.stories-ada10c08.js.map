{"version":3,"file":"UseMutationObserver.stories-ada10c08.js","sources":["../../src/stories/UseMutationObserver/Attributes.tsx","../../src/stories/UseMutationObserver/Attributes.tsx?raw","../../src/stories/UseMutationObserver/stories.tsx","../../../too-many-hooks/dist/useMutationObserver.d.ts?raw","../../src/stories/UseMutationObserver/UseMutationObserver.stories.mdx"],"sourcesContent":["import React, { useEffect } from 'react'\nimport { useMutationObserver } from 'too-many-hooks'\n\ninterface Props {\n  attributeMutation: (name?: string | null) => string\n  attribute: string\n}\n\nconst Attributes: React.FC<Props> = ({ attributeMutation, attribute }) => {\n  const records = useMutationObserver(document.body, {\n    attributes: true,\n    subtree: true,\n  })\n  useEffect(() => {\n    const currentAttribute = document.getElementById('example-div')?.dataset.attribute\n    if (records && currentAttribute !== undefined) {\n      attributeMutation(\n        `Observed mutation with record attributeName ${records?.[0].attributeName}, div data ${\n          !currentAttribute ? 'cleared' : `set to ${currentAttribute}`\n        }`,\n      )\n    }\n  }, [attributeMutation, records])\n  return (\n    <div id=\"example-div\" className=\"prose text-4xl\" data-attribute={attribute}>\n      Use the controls to trigger a mutation, viewable in the &quot;Actions&quot; tab\n    </div>\n  )\n}\n\nexport default Attributes\n","export default \"import React, { useEffect } from 'react'\\nimport { useMutationObserver } from 'too-many-hooks'\\n\\ninterface Props {\\n  attributeMutation: (name?: string | null) => string\\n  attribute: string\\n}\\n\\nconst Attributes: React.FC<Props> = ({ attributeMutation, attribute }) => {\\n  const records = useMutationObserver(document.body, {\\n    attributes: true,\\n    subtree: true,\\n  })\\n  useEffect(() => {\\n    const currentAttribute = document.getElementById('example-div')?.dataset.attribute\\n    if (records && currentAttribute !== undefined) {\\n      attributeMutation(\\n        `Observed mutation with record attributeName ${records?.[0].attributeName}, div data ${\\n          !currentAttribute ? 'cleared' : `set to ${currentAttribute}`\\n        }`,\\n      )\\n    }\\n  }, [attributeMutation, records])\\n  return (\\n    <div id=\\\"example-div\\\" className=\\\"prose text-4xl\\\" data-attribute={attribute}>\\n      Use the controls to trigger a mutation, viewable in the &quot;Actions&quot; tab\\n    </div>\\n  )\\n}\\n\\nexport default Attributes\\n\"","import type { Meta, StoryObj } from '@storybook/react'\nimport Attributes from './Attributes'\nimport ATTRIBUTES_CODE from './Attributes.tsx?raw'\n\nexport const attributes: StoryObj<Meta<typeof Attributes>> = {\n  parameters: {\n    layout: 'centered',\n    docs: {\n      source: { code: ATTRIBUTES_CODE, language: 'tsx' },\n    },\n  },\n  argTypes: {\n    attribute: {\n      type: 'string',\n    },\n    attributeMutation: {\n      action: (name: string) => name,\n    },\n  },\n  render: args => <Attributes {...args} />,\n}\n","export default \"/**\\n * `useMutationObserver` hook type\\n *\\n * @export\\n * @typedef {UseMutationObserver}\\n * @param {(Node | null)} target\\n * @param {?MutationObserverInit} [options]\\n * @returns {(MutationRecord[] | undefined)}\\n */\\nexport declare type UseMutationObserver = (target: Node | null, options?: MutationObserverInit) => MutationRecord[] | undefined;\\n/**\\n * Observes a node and returns the latest mutation record\\n *\\n * @implements {UseMutationObserver}\\n * @param {(Node | null)} target\\n * @param {?MutationObserverInit} [options]\\n * @returns {(MutationRecord[] | undefined)}\\n */\\ndeclare const useMutationObserver: UseMutationObserver;\\nexport default useMutationObserver;\\n\"","import { Canvas, Meta, Source, Story } from '@storybook/addon-docs'\nimport * as stories from './stories'\nimport TYPES from '../../../../too-many-hooks/dist/useMutationObserver.d.ts?raw'\n\n<Meta title=\"Example/UseMutationObserver\" />\n\n# useMutationObserver\n\nA wrapper of a `MutationObserver` which returns an array of mutation records, allowing code to watch for changes to elements.\n\n## Types\n\n<Source language=\"ts\" code={TYPES} />\n\n## Examples\n\n### Attributes\n\n<Canvas withSource=\"open\">\n  <Story name=\"Attributes\" story={stories.attributes} />\n</Canvas>\n"],"names":["Attributes","attributeMutation","attribute","records","useMutationObserver","useEffect","currentAttribute","_a","jsx","ATTRIBUTES_CODE","attributes","name","args","TYPES","MDXContent","props","MDXLayout","_provideComponents","_jsx","_createMdxContent","_components","_jsxs","_Fragment","Meta","Source","Canvas","Story","stories.attributes","_attributes_","componentMeta","__namedExportsOrder"],"mappings":"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"}